<!-- Default form contact -->
<form class="text-center border border-light p-5" [formGroup]="tripForm" (ngSubmit)="onSubmit(tripForm.value)">
        

    <p class="h4 mb-4">Sauvegarder un nouveau voyage</p>

    <!-- Name -->
    <label>Intitulé du voyage</label>
    <input type="text" formControlName="name" class="form-control mb-4" placeholder="Intitulé du voyage">

    <!-- Photo -->
    <div class="custom-file">
        <input class="file-input" type="file" (change)="uploadFile($event)">
        <label class="custom-file-label" for="customFileLang">Sélectionner le fichier </label>
    </div>

    <div class="dropzone" 
     dropzone
     (hovered)="toggleHover($event)"
     (dropped)="onDrop($event)"
     [class.hovering]="isHovering">


     <h3>AngularFire Drop Zone</h3>
     <p>Drag and Drop a File</p>
</div>

<h3>Uploads</h3>

<div *ngFor="let file of files">
  
    <div *ngIf="snapshot | async as snap">
  
        {{ snap.bytesTransferred }} of {{ snap.totalBytes }} 
      
        <div *ngIf="downloadURL as url">
          <h3>Results!</h3>
          <img [src]="url"><br>
          <a [href]="url" target="_blank" rel="noopener">Download Me!</a>
        </div> 
      
        <button (click)="task.pause()" [disabled]="!isActive(snap)">Pause</button>
        <button (click)="task.cancel()" [disabled]="!isActive(snap)">Cancel</button>
        <button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">Resume</button>
      </div>
</div>

<div *ngIf="percentage | async as pct">
    <progress [value]="pct" max="100"></progress>
    {{ pct | number }}%
  </div>
  
  
  
  

    <!-- Type -->
    <label>Type de voyage</label>
    <select formControlName="type" class="browser-default custom-select mb-4">
        <option *ngFor='let item of (typesForm$ | async)' [value]="item.type" selected>{{item.type}}</option>
    </select>

    <!-- Description -->
    <div class="form-group">
        <label>Description</label>
        <textarea formControlName="description" class="form-control rounded-0" rows="3" placeholder="Description"></textarea>
    </div>

    <!-- Copy 
    <div class="custom-control custom-checkbox mb-4">
        <input type="checkbox" class="custom-control-input" id="defaultContactFormCopy">
        <label class="custom-control-label" for="defaultContactFormCopy">Send me a copy of this message</label>
    </div>-->

    <!-- Send button -->
    <button class="btn btn-info btn-block" type="submit">Sauvegarder</button>

</form>
<!-- Default form contact -->
